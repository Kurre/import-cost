plugins {
    id 'org.jetbrains.intellij' version '0.3.9'
    id 'org.jetbrains.kotlin.jvm' version '1.1.3'
}

repositories {
    mavenCentral()
}

intellij {
    version 'IU-LATEST-EAP-SNAPSHOT'
    plugins = ['JavaScriptLanguage']
    pluginName 'ImportCost'
    downloadSources false
    updateSinceUntilBuild false
}

publishPlugin {
    username usernameValue
    password passwordValue
}

// js packing
project.afterEvaluate {
    prepareSandbox.doLast {
        def libraries = "$it.destinationDir/$intellij.pluginName/lib/"
        copy {
            from "$project.projectDir/javascript"
            into libraries
        }
    }
}